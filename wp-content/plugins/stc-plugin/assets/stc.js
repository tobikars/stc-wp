!function o(a,c,i){function u(t,e){if(!c[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(d)return d(t,!0);var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}var r=c[t]={exports:{}};a[t][0].call(r.exports,function(e){return u(a[t][1][e]||e)},r,r.exports,o,a,c,i)}return c[t].exports}for(var d="function"==typeof require&&require,e=0;e<i.length;e++)u(i[e]);return u}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.loadResults=function(e,t,n){console.log("Requesting: "+e);var s=new XMLHttpRequest;s.open("GET",e),s.setRequestHeader("x-scantrust-consumer-api-key",t),s.send(),s.onreadystatechange=function(e){4==s.readyState&&200==s.status&&(console.log("Data loaded: "+s.responseText.length/1024+"Kb"),window.stc=JSON.parse(s.responseText),n(s.responseText))}}},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.syntaxHighlight=function(e){"string"!=typeof e&&(e=JSON.stringify(e,void 0,2));return(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"})}},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shortCodes=function(t){var e=[{name:"st_json",generate:function(e){console.log("stJSON"),e.innerHTML=(0,s.syntaxHighlight)(JSON.parse(t))},elementName:"#st-json"},{name:"st_scan",generate:function(e){console.log("stScan: "+window.stc.scan);var t=window.stc.scan;e.innerHTML=t.app+" / "+t.reason+"("+t.result+") country:"+t.country},elementName:"#st-scan"},{name:"st_code",generate:function(e){console.log("stCode: "+window.stc.code);var t=window.stc.code,n=t.qrcode.serial_number?t.qrcode.serial_number:"none";e.innerHTML=t.qrcode.message+" (created on "+t.qrcode.creation_date+"), scan count:"+t.scan_count+" times ",e.innerHTML+=" status: "+t.qrcode.activation_status+" serial: "+n},elementName:"#st-code"},{name:"st_product",generate:function(e){console.log("stProduct: "+window.stc.code.product);var t=window.stc.code.product;n(".st-product-title",t.sku+" - <a href='"+t.url+"'>"+t.name+"</a>"),n(".st-product-description",t.description),n(".st-product-img","<img src='"+t.image+"' width='200px'/>")},elementName:"#st-product"},{name:"st_brand",generate:function(e){console.log("stBrand: "+window.stc.code.brand);var t=window.stc.code.brand;n(".st-brand-title",t.name),n(".st-brand-description",t.description),n(".st-brand-img","<img src='"+t.image+"' width='200px'/>")},elementName:"#st-brand"},{name:"st_campaign",generate:function(e){console.log("stCampaign: "+window.stc.scan);var t=window.stc.campaign;e.innerHTML=t.name+" ("+t.products.length+" products)"},elementName:"#st-campaign"}];function n(e,t){document.querySelector(e).innerHTML=t}console.log("Activating Shortcodes: "+e.length),e.forEach(function(e){console.log("Generating shortcode "+e.name+" into "+e.elementName);var t=document.querySelector(e.elementName);t&&e.generate(t)})};var s=e("./prettify.js")},{"./prettify.js":2}],4:[function(e,t,n){"use strict";var u=e("./loadResults.js"),d=e("./shortCodes.js");window.addEventListener("load",function(){for(var e=document.querySelectorAll("ul.nav-tabs > li"),t=0;t<e.length;t++)e[t].addEventListener("click",n);function n(e){e.preventDefault(),document.querySelector("ul.nav-tabs > li.active").classList.remove("active"),document.querySelector(".tab-pane.active").classList.remove("active");var t=e.currentTarget,n=e.target.getAttribute("href");t.classList.add("active"),document.querySelector(n).classList.add("active")}if(stParams.st_pojo_active){var s=stParams.st_api_url,r=stParams.st_api_key,o=stParams.st_qr,a=stParams.st_uid,c=s.replace("{id}",a).replace("{qr}",o);document.querySelectorAll(".msg").forEach(function(e){e.innerHTML=stParams[e.id]});var i=document.querySelector("#st-json");i&&(i.innerHTML="LOADING...."),(0,u.loadResults)(c,r,function(e){console.log("Created ScanTrust Javascript object: window.stc : "+window.stc),console.log("setting shortcodes:"),(0,d.shortCodes)(e)})}})},{"./loadResults.js":1,"./shortCodes.js":3}]},{},[4,3,1]);
//# sourceMappingURL=stc.js.map
